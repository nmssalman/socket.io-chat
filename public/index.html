<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Enroute Live Tracking Sample</title>
  <link rel="stylesheet" href="style.css">
</head>
<body onload="initMap()">
 
  <ul class="pages">
    <li class="chat page">
      <div style="width: 400px; height: 400px; align-content: center;" id="map"></div>
      <div class="chatArea">
        <ul class="messages"></ul>
      </div>
      <input class="inputMessage" placeholder="Type here..."/>
    </li>
    <li class="login page">
      <div class="form">
        <h3 class="title">What's your Name?</h3>
        <input class="usernameInput" type="text" maxlength="14" />
      </div>
    </li>
  </ul>
  <script
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDhoQymqKoa7qG2So6AzR0PVBiC1qexUpA&callback=initMap&libraries=&v=weekly"
  async
></script>
<script>
  var mapView;
  var marker;
  function initMap()  {
  // The location of Uluru
  const uluru = { lat: 53.3961342, lng: -113.5397375 };
  // The map, centered at Uluru
   mapView = new google.maps.Map(document.getElementById("map"), {
    zoom: 11,
    center: uluru,
  });
  // The marker, positioned at Uluru
   marker = new google.maps.Marker({
    position: uluru,
    map: mapView,
  });
  
}
function updateMap(data){
  const locationData = {lat: parseFloat(data.message.split(',')[0]), lng: parseFloat(data.message.split(',')[1])}
  var newLatLng = new google.maps.LatLng(locationData);
  marker.setPosition(newLatLng)

}
</script>
  <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script src="/main.js"></script>
</body>
</html>